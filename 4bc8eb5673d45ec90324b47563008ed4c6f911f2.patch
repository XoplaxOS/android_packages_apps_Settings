From 4bc8eb5673d45ec90324b47563008ed4c6f911f2 Mon Sep 17 00:00:00 2001
From: Jorrit Jongma <git@jongma.org>
Date: Fri, 28 Nov 2014 15:03:11 +0100
Subject: [PATCH] Launch SuperSU from Settings

If SuperSU is installed, show an entry in Settings below
"Developer options", which launches SuperSU when tapped.
At boot time SuperSU will detect if com.android.settings
contains the resources from this patch, and if so it
will hide itself from the launcher. This was implemented
in v1.85, so we only show the entry if the installed
SuperSU version is at least that.

PS3 - Added material green icons for SU

Change-Id: I2af95a1a4396101ff87448cd0ae20addf235af52
---
 res/drawable-hdpi/ic_settings_supersu.png      | Bin 0 -> 3871 bytes
 res/drawable-mdpi/ic_settings_supersu.png      | Bin 0 -> 3535 bytes
 res/drawable-xhdpi/ic_settings_supersu.png     | Bin 0 -> 4170 bytes
 res/values/bliss_strings.xml                   |   5 ++++-
 res/xml/dashboard_categories.xml               |  11 +++++++++++
 src/com/android/settings/SettingsActivity.java |  10 ++++++++++
 6 files changed, 25 insertions(+), 1 deletion(-)
 create mode 100755 res/drawable-hdpi/ic_settings_supersu.png
 create mode 100755 res/drawable-mdpi/ic_settings_supersu.png
 create mode 100755 res/drawable-xhdpi/ic_settings_supersu.png

diff --git a/res/drawable-hdpi/ic_settings_supersu.png b/res/drawable-hdpi/ic_settings_supersu.png
new file mode 100755
index 0000000000000000000000000000000000000000..b70a877c3fadbad9110d2176efdb05f651322c03
GIT binary patch
literal 3871
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

literal 0
HcmV?d00001

diff --git a/res/drawable-mdpi/ic_settings_supersu.png b/res/drawable-mdpi/ic_settings_supersu.png
new file mode 100755
index 0000000000000000000000000000000000000000..22640e1e761bb074894716dcfd409348504ebac5
GIT binary patch
literal 3535
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
JPDHLkV1iJSs2>0T

literal 0
HcmV?d00001

diff --git a/res/drawable-xhdpi/ic_settings_supersu.png b/res/drawable-xhdpi/ic_settings_supersu.png
new file mode 100755
index 0000000000000000000000000000000000000000..8358748444b1cafdf65b8272290b7dce3bf2ec84
GIT binary patch
literal 4170
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
UM~eIKssI2007*qoM6N<$f<H*EAOHXW

literal 0
HcmV?d00001

diff --git a/res/values/bliss_strings.xml b/res/values/bliss_strings.xml
index bcf4b54..e2fd93a 100644
--- a/res/values/bliss_strings.xml
+++ b/res/values/bliss_strings.xml
@@ -41,6 +41,9 @@
 
     <!-- GCC build flags info -->
     <string name="sm_flags">Build flags</string>
-    <string name="sm_flags_default">None</string> 
+    <string name="sm_flags_default">None</string>
+
+    <!-- SuperSU header name - the app hides itself from launcher based on this resource name being present in com.android.settings -->
+    <string name="supersu_title">SuperSU</string> 
 
 </resources>
diff --git a/res/xml/dashboard_categories.xml b/res/xml/dashboard_categories.xml
index 89392fa..4fdc67a 100644
--- a/res/xml/dashboard_categories.xml
+++ b/res/xml/dashboard_categories.xml
@@ -359,6 +359,17 @@
                 android:icon="@drawable/ic_settings_development"
                 />
 
+        <!-- SuperSU -->
+        <dashboard-tile
+            android:id="@+id/supersu_settings"
+            android:icon="@drawable/ic_settings_supersu"
+            android:title="@string/supersu_title">
+            <intent
+                android:action="android.intent.action.MAIN"
+                android:targetPackage="eu.chainfire.supersu"
+                android:targetClass="eu.chainfire.supersu.MainActivity" />
+        </dashboard-tile>
+
         <!-- About Device -->
         <dashboard-tile
                 android:id="@+id/about_settings"
diff --git a/src/com/android/settings/SettingsActivity.java b/src/com/android/settings/SettingsActivity.java
index 7400a7b..cf8c1cc 100644
--- a/src/com/android/settings/SettingsActivity.java
+++ b/src/com/android/settings/SettingsActivity.java
@@ -1254,6 +1254,16 @@ private void updateTilesList(List<DashboardCategory> target) {
                             UserManager.DISALLOW_DEBUGGING_FEATURES)) {
                         removeTile = true;
                     }
+                } else if (id == R.id.supersu_settings) {
+                    // Embedding into Settings is supported from SuperSU v1.85 and up
+                    boolean supported = false;
+                    try {
+                        supported = (getPackageManager().getPackageInfo("eu.chainfire.supersu", 0).versionCode >= 185);
+                    } catch (PackageManager.NameNotFoundException e) {
+                    }
+                    if (!supported) {
+                        removeTile = true;
+                    }
                 } else if (id == R.id.performance_settings) {
                     final boolean forceHide =
                             getResources().getBoolean(R.bool.config_hidePerformanceSettings);
